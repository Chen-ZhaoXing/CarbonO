{"ast":null,"code":"var _jsxFileName = \"/Users/noviaantony/Desktop/CS203-Team-2/carbonO_frontend/src/screens/ClaimReward.jsx\";\nimport React from 'react';\nimport axios from \"axios\";\nimport { useDropzone } from \"react-dropzone\"; // import Dropzone from \"../components/carbontracker/Dropzone\"\n// const ClaimReward = () => {\n//   return (\n//     <div>\n//       <div className=\"md: w-1/2 mx-auto shadow-l rounded-2xl pb-2 bg-white mt-32\">\n//         <Dropzone />\n//         <button\n//           className=\"bg-primary-500 bg-[#5E9387]  focus:bg-primary-700 focus:text-gray-200 focus:shadow-outline focus:outline-none transition duration-300\n//             px-7 py-2 w-full text-white text-center rounded-md block sm:w-auto font-bold hover:bg-gray-700 hover:text-white mt-20\"\n//           as=\"a\"\n//           onClick={() => postData()}\n//         >\n//           Upload Receipt\n//         </button>\n//       </div>\n//     </div>\n//   );\n// }\n// export default ClaimReward\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ClaimReward(_ref) {\n  let {\n    open\n  } = _ref;\n\n  // const { getRootProps, getInputProps, acceptedFiles, isDragActive } =\n  //   useDropzone({});\n  // const files = acceptedFiles.map((file) => (\n  //   <li key={file.path}>\n  //     {file.path} - {file.size} bytes\n  //   </li>\n  // ));\n  // console.log(files[0]);\n  const postData = file => {\n    // const apiKey = \"AIzaSyC3rJnOOPzFe0snLWmBrgukHmSqFxlimU8\";\n    console.log(\"in\");\n    console.log(file); // convert file to uri\n\n    const encodeImageURI = require(\"encode-image-uri\");\n\n    encodeImageURI(file).then(base64 => {\n      console.log(base64); // Do your stuff\n    }).catch(error => {\n      console.error(error); // Handle your error\n    });\n    let body = {\n      requests: [{\n        image: {\n          source: {\n            imageUri: \"https://p2d7x8x2.stackpathcdn.com/content/uploads/2016/05/Bill.jpg\" //image URL\n            // imageURI,\n\n          }\n        },\n        features: [{\n          type: \"TEXT_DETECTION\",\n          maxResults: 1\n        }]\n      }]\n    };\n    axios.post(\"https://vision.googleapis.com/v1/images:annotate?key=AIzaSyC3rJnOOPzFe0snLWmBrgukHmSqFxlimU8\", body).then(response => console.log(response));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      value: selectedFile,\n      onChange: e => setSelectedFile(e.target.files[0])\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"border-2 border-black p-2\",\n      onClick: () => postData(files[0]),\n      children: \"Post Receipt\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n}\n\n_c = ClaimReward;\nexport default ClaimReward;\n\nvar _c;\n\n$RefreshReg$(_c, \"ClaimReward\");","map":{"version":3,"names":["React","axios","useDropzone","ClaimReward","open","postData","file","console","log","encodeImageURI","require","then","base64","catch","error","body","requests","image","source","imageUri","features","type","maxResults","post","response","selectedFile","e","setSelectedFile","target","files"],"sources":["/Users/noviaantony/Desktop/CS203-Team-2/carbonO_frontend/src/screens/ClaimReward.jsx"],"sourcesContent":["import React from 'react'\nimport axios from \"axios\";\nimport { useDropzone } from \"react-dropzone\";\n\n// import Dropzone from \"../components/carbontracker/Dropzone\"\n\n\n\n// const ClaimReward = () => {\n\n  \n\n\n//   return (\n//     <div>\n//       <div className=\"md: w-1/2 mx-auto shadow-l rounded-2xl pb-2 bg-white mt-32\">\n//         <Dropzone />\n//         <button\n//           className=\"bg-primary-500 bg-[#5E9387]  focus:bg-primary-700 focus:text-gray-200 focus:shadow-outline focus:outline-none transition duration-300\n//             px-7 py-2 w-full text-white text-center rounded-md block sm:w-auto font-bold hover:bg-gray-700 hover:text-white mt-20\"\n//           as=\"a\"\n//           onClick={() => postData()}\n//         >\n//           Upload Receipt\n//         </button>\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default ClaimReward\n\n\nfunction ClaimReward({ open }) {\n\n  // const { getRootProps, getInputProps, acceptedFiles, isDragActive } =\n  //   useDropzone({});\n\n  // const files = acceptedFiles.map((file) => (\n  //   <li key={file.path}>\n  //     {file.path} - {file.size} bytes\n  //   </li>\n  // ));\n\n  // console.log(files[0]);\n\n  \n\n  const postData = (file) => {\n    // const apiKey = \"AIzaSyC3rJnOOPzFe0snLWmBrgukHmSqFxlimU8\";\n\n    console.log(\"in\");\n    console.log(file);\n\n    // convert file to uri\n\n    const encodeImageURI = require(\"encode-image-uri\");\n\n    encodeImageURI(file)\n      .then((base64) => {\n        console.log(base64);\n        // Do your stuff\n      })\n      .catch((error) => {\n        console.error(error);\n        // Handle your error\n      });\n\n\n\n    let body = {\n      requests: [\n        {\n          image: {\n            source: {\n              imageUri:\n                \"https://p2d7x8x2.stackpathcdn.com/content/uploads/2016/05/Bill.jpg\", //image URL\n              // imageURI,\n            },\n          },\n          features: [\n            {\n              type: \"TEXT_DETECTION\",\n              maxResults: 1,\n            },\n          ],\n        },\n      ],\n    };\n\n    axios\n      .post(\n        \"https://vision.googleapis.com/v1/images:annotate?key=AIzaSyC3rJnOOPzFe0snLWmBrgukHmSqFxlimU8\",\n        body\n      )\n      .then((response) => console.log(response));\n  };\n\n  return (\n    <div className=\"container\">\n      {/* <div {...getRootProps({ className: \"dropzone\" })}>\n        <input className=\"input-zone\" {...getInputProps()} />\n        <div className=\"text-center\">\n          {isDragActive ? (\n            <p className=\"dropzone-content\">Release to drop file here</p>\n          ) : (\n            <p className=\"dropzone-content\">Drag 'n' drop file here</p>\n          )}\n          <button\n            type=\"button\"\n            onClick={open}\n            className=\"btn\"\n            className=\"border-2 border-black p-2\"\n          >\n            Click to select file\n          </button>\n        </div>\n      </div>\n      <aside>\n        <ul>{files}</ul>\n      </aside> */}\n      <input\n        type=\"file\"\n        value={selectedFile}\n        onChange={(e) => setSelectedFile(e.target.files[0])}\n      />\n      <button\n        className=\"border-2 border-black p-2\"\n        onClick={() => postData(files[0])}\n      >\n        Post Receipt\n      </button>\n    </div>\n  );\n}\n\nexport default ClaimReward;\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,gBAA5B,C,CAEA;AAIA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;AAGA,SAASC,WAAT,OAA+B;EAAA,IAAV;IAAEC;EAAF,CAAU;;EAE7B;EACA;EAEA;EACA;EACA;EACA;EACA;EAEA;EAIA,MAAMC,QAAQ,GAAIC,IAAD,IAAU;IACzB;IAEAC,OAAO,CAACC,GAAR,CAAY,IAAZ;IACAD,OAAO,CAACC,GAAR,CAAYF,IAAZ,EAJyB,CAMzB;;IAEA,MAAMG,cAAc,GAAGC,OAAO,CAAC,kBAAD,CAA9B;;IAEAD,cAAc,CAACH,IAAD,CAAd,CACGK,IADH,CACSC,MAAD,IAAY;MAChBL,OAAO,CAACC,GAAR,CAAYI,MAAZ,EADgB,CAEhB;IACD,CAJH,EAKGC,KALH,CAKUC,KAAD,IAAW;MAChBP,OAAO,CAACO,KAAR,CAAcA,KAAd,EADgB,CAEhB;IACD,CARH;IAYA,IAAIC,IAAI,GAAG;MACTC,QAAQ,EAAE,CACR;QACEC,KAAK,EAAE;UACLC,MAAM,EAAE;YACNC,QAAQ,EACN,oEAFI,CAEkE;YACxE;;UAHM;QADH,CADT;QAQEC,QAAQ,EAAE,CACR;UACEC,IAAI,EAAE,gBADR;UAEEC,UAAU,EAAE;QAFd,CADQ;MARZ,CADQ;IADD,CAAX;IAoBArB,KAAK,CACFsB,IADH,CAEI,8FAFJ,EAGIR,IAHJ,EAKGJ,IALH,CAKSa,QAAD,IAAcjB,OAAO,CAACC,GAAR,CAAYgB,QAAZ,CALtB;EAMD,CAhDD;;EAkDA,oBACE;IAAK,SAAS,EAAC,WAAf;IAAA,wBAsBE;MACE,IAAI,EAAC,MADP;MAEE,KAAK,EAAEC,YAFT;MAGE,QAAQ,EAAGC,CAAD,IAAOC,eAAe,CAACD,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD;IAHlC;MAAA;MAAA;MAAA;IAAA,QAtBF,eA2BE;MACE,SAAS,EAAC,2BADZ;MAEE,OAAO,EAAE,MAAMxB,QAAQ,CAACwB,KAAK,CAAC,CAAD,CAAN,CAFzB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QA3BF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAoCD;;KArGQ1B,W;AAuGT,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}